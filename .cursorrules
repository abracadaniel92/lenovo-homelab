# AI Safety & Operation Rules

This repository manages a live homelab environment. Any AI agent working here MUST follow these rules to prevent data loss or service disruption.

## 1. Live Service Updates
- **ALWAYS Verify Live Paths**: Live docker services often run from `/home/docker-projects/`, NOT the workspace directory.
- **NEVER Assume Workspace is Live**: Before running `docker compose` commands, run `docker inspect <container-name>` to find the absolute path of the `com.docker.compose.project.working_dir`.
- **Use Workflows**: Always check `.agent/workflows/` for standardized procedures. Specifically, use the `/update-service` logic for any container updates.

## 2. Path Management
- **Workspace**: `/home/goce/Desktop/Cursor projects/Pi-version-control` is for version control and configuration management.
- **Production**: `/home/docker-projects/` contains the live running data and active `docker-compose.yml` files.
- **Rule**: Sync changes from the workspace to production only after verification, or use the live path directly if performing an update.

## 3. Data Integrity
- Prioritize preserving volume data (`./data` folders) during any operation.
- If a volume mount looks suspicious or different from the expected production mount, STOP and ask the user.

## 4. Git Hygiene
- The `develop` branch is the primary working branch.
- Always `pull --rebase` before pushing to avoid conflicts.
- Stash or commit local changes before pulling.

## 5. Privacy & Sensitive Data
- **Redact Network Identifiers**: NEVER commit public IP addresses or specific No-IP hostnames into the documentation. Use placeholders like `[REDACTED_PUBLIC_IP]`, `[REDACTED_INTERNAL_IP]`, or `[REDACTED_NOIP]`.
- **Anonymize PII**: Avoid committing personal names (e.g., "Goce") in technical logs or investigation reports. Use `[USER]` instead.
- **Credential Protection**: 
    - Verify that `.env`, `*.pickle`, and credential files are correctly ignored by Git before doing any work.
    - NEVER hardcode Slack webhooks, API tokens, or cleartext passwords in scripts or `docker-compose.yml` files. Use environment variables or secure placeholders.
