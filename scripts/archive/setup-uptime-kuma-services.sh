#!/bin/bash
###############################################################################
# Setup Uptime Kuma Monitors for GoatCounter, Gokapi, Travelsync, and Bookmarks
###############################################################################

UPTIME_KUMA_URL="http://localhost:3001"
SLACK_WEBHOOK_URL="[REDACTED_SLACK_WEBHOOK]"

echo "=========================================="
echo "Uptime Kuma Service Monitors Setup"
echo "=========================================="
echo ""
echo "Setting up monitors for:"
echo "  • GoatCounter (Analytics)"
echo "  • Gokapi (File Sharing)"
echo "  • Travelsync"
echo "  • Bookmarks"
echo ""
echo "Open Uptime Kuma: $UPTIME_KUMA_URL"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "MONITOR 1: GoatCounter (Analytics)"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "1. Click 'Add New Monitor'"
echo ""
echo "2. Configure:"
echo "   ┌─────────────────────────────────────┐"
echo "   │ Monitor Type: HTTP(s)               │"
echo "   │ Friendly Name: GoatCounter          │"
echo "   │ URL: https://analytics.gmojsoski.com│"
echo "   │ Interval: 60 seconds                │"
echo "   │ Retry Interval: 30 seconds          │"
echo "   │ Max Retries: 3                      │"
echo "   │ Expected Status Code: 200            │"
echo "   └─────────────────────────────────────┘"
echo ""
echo "3. Notify:"
echo "   → Select your Slack notification"
echo "   → Enable: ✓ Notify When Down"
echo "   → Enable: ✓ Notify When Up (optional)"
echo ""
echo "4. Click 'Save'"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "MONITOR 2: Gokapi (File Sharing)"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "1. Click 'Add New Monitor'"
echo ""
echo "2. Configure:"
echo "   ┌─────────────────────────────────────┐"
echo "   │ Monitor Type: HTTP(s)               │"
echo "   │ Friendly Name: Gokapi               │"
echo "   │ URL: https://files.gmojsoski.com   │"
echo "   │ Interval: 60 seconds                │"
echo "   │ Retry Interval: 30 seconds          │"
echo "   │ Max Retries: 3                      │"
echo "   │ Expected Status Code: 200            │"
echo "   └─────────────────────────────────────┘"
echo ""
echo "3. Notify:"
echo "   → Select your Slack notification"
echo "   → Enable: ✓ Notify When Down"
echo "   → Enable: ✓ Notify When Up (optional)"
echo ""
echo "4. Click 'Save'"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "MONITOR 3: Travelsync"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "1. Click 'Add New Monitor'"
echo ""
echo "2. Configure:"
echo "   ┌─────────────────────────────────────┐"
echo "   │ Monitor Type: HTTP(s)               │"
echo "   │ Friendly Name: Travelsync           │"
echo "   │ URL: https://travelsync.gmojsoski.com│"
echo "   │   (or check your actual domain)      │"
echo "   │ Interval: 60 seconds                │"
echo "   │ Retry Interval: 30 seconds           │"
echo "   │ Max Retries: 3                      │"
echo "   │ Expected Status Code: 200            │"
echo "   └─────────────────────────────────────┘"
echo ""
echo "3. Notify:"
echo "   → Select your Slack notification"
echo "   → Enable: ✓ Notify When Down"
echo "   → Enable: ✓ Notify When Up (optional)"
echo ""
echo "4. Click 'Save'"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "MONITOR 4: Bookmarks"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "1. Click 'Add New Monitor'"
echo ""
echo "2. Configure:"
echo "   ┌─────────────────────────────────────┐"
echo "   │ Monitor Type: HTTP(s)               │"
echo "   │ Friendly Name: Bookmarks             │"
echo "   │ URL: https://bookmarks.gmojsoski.com│"
echo "   │ Interval: 60 seconds                │"
echo "   │ Retry Interval: 30 seconds          │"
echo "   │ Max Retries: 3                      │"
echo "   │ Expected Status Code: 200            │"
echo "   └─────────────────────────────────────┘"
echo ""
echo "3. Notify:"
echo "   → Select your Slack notification"
echo "   → Enable: ✓ Notify When Down"
echo "   → Enable: ✓ Notify When Up (optional)"
echo ""
echo "4. Click 'Save'"
echo ""
echo "=========================================="
echo "Quick Reference"
echo "=========================================="
echo ""
echo "Service URLs:"
echo "  • GoatCounter:  https://analytics.gmojsoski.com"
echo "  • Gokapi:       https://files.gmojsoski.com"
echo "  • Travelsync:   https://travelsync.gmojsoski.com (verify domain)"
echo "  • Bookmarks:    https://bookmarks.gmojsoski.com"
echo ""
echo "All monitors can use the same Slack notification!"
echo ""
echo "Uptime Kuma: $UPTIME_KUMA_URL"
echo ""

